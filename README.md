# AI Art Generator API
A streamlined API for the CLIP+VQGAN AI Art Generator using Pytorch and FastAPI

## Overview


## Setup


## API Endpoints
To see all available endpoints, open your favorite browser and navigate to:

```
http://<colab_url>/docs
```

The API endpoints are divided as follows:
#### /v1/generate_text2img (POST)
![generate text2img](images/text2img.PNG)

This service allows the other services to interact with the GAN model and provide it with text and the desired image size to generate paintings. Once this service is called, the model will be running in a separate thread to fine tune the image generator. As the generator is being finetuning, the model will save intermediary images of the painting that the user asked for. <br>

#### /v1/generate_text2img_progressimg (POST) 
![progress img](images/progress_img.PNG)
This service will allow the other services to access the latest intermediary image generated by the model in its finetuning process.
<br>

#### /v1/generate_text2img_progressbar (POST)

![progress bar](images/progress_bar.PNG)
 
This service will allow the other services to access the current number of iterations the model has finished so far in its finetuning process. This service is useful to show the user the time left for the model to finish the painting generation.

#### /v1/generate_textimg2img (POST): 
![generate textimg2img](images/textimg2img.PNG)

This service allows the other services to interact with the GAN model and provide it in addition to text with a starting image to generate an edited painting based on this image. Once this service is called, the model will be running in a separate thread to fine tune the image generator. As the generator is being finetuning, the model will save intermediary images of the painting that the user asked for. 


## Benchmarks
To test the performance of the GAN model, we compared the generation time as the size of the output image increases. The experiments were done on Google Colab on an Nvidia T4 GPU, and the input prompt is: “flowering magenta orchids in a rainy day impressionist”.

| Image Size | Generation Time (seconds) |
|:-----------:|:----------------------------:|
| 64x64 | 55.832 |
| 128x128 | 58.245 |
| 256x256 | 101.637 |
| 512x512 | 232.239 |

## Acknowledgments
The original notebook was made by [Katherine Crowson](https://github.com/crowsonkb).
With further modifications by [Justin John](https://colab.research.google.com/github/justinjohn0306/VQGAN-CLIP/blob/main/VQGAN%2BCLIP_%28z%2Bquantize_method_with_augmentations%2C_user_friendly_interface%29.ipynb#scrollTo=c3d7a8be-73ce-4cee-be70-e21c1210a7a6).
